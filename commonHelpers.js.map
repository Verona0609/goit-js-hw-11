{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImages(query){\n  const BASE_URL = `https://pixabay.com/api/`;\n  const params = new URLSearchParams({\n    key: `44189121-1bd84ab9c2376b17257837ab7`,\n    q: `query`,\n    image_type: `photo`,\n    orientation: `horizontal`,\n    safesearch: `true`\n\n\n  })\n\nconst url= `${BASE_URL}?${params}`;\n\n\n\n  return fetch(url).then(res=>{\n    if(!res.ok){\n      throw new Error(\"Failed to fetch images\");\n    }\n    return res.json();\n  }\n\n    );\n}\n\n\n\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nlet lightbox;\n\nexport function renderImages(images){\n  const gallery = document.querySelector(\".img-container\");\n  gallery.innerHTML = images.map(image =>\n`<a href=\"${image.largeImageUrl}\"  class=\"gallery-item\" >\n<img src=\"${image.webformatUrl}\" alt=\"${image.tags}\" />\n<div class=\"info\">¨\n  <p>Likes: ${image.likes}</p>\n  <p>Views: ${image.views}</p>\n  <p>Comments: ${image.comments}</p>\n  <p>Downloads: ${image.downloads}</p>\n</div>\n</a>`\n  ).join(``);\n}\n\n/* if (lightbox){\n  lightbox.refresh();\n\n}else{\n  lightbox= new SimpleLightbox(gallery)\n} */\n\nexport function showLoading(){\n  document.querySelector(\".loader\").style.display = \"block\"\n}\n\nexport function hideLoading(){\n  document.querySelector(\".loader\").style.display = \"none\";\n}\n\nexport function showError(message){\n  iziToast.error({\n    title:\"Error\",\n    message,\n  })\n}\n\n","import {searchImages} from \"./js/pixabay-api.js\";\nimport {renderImages, showLoading, hideLoading, showError} from \"./js/render-functions.js\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formEl = document.querySelector(\".form\")\n\nformEl.addEventListener(\"submit\", e =>{\n  e.preventDefault();\n\n  const query = e.target.elements.query.value.trim();\n\n  if (!query){\n    showError(\"Please enter a search query!\");\n    return;\n  }\n\n /*  showLoading(); */\n\n  searchImages(query)\n  .then(data =>{\n    hideLoading();\n\n    if(data.hits.lenght === 0){\n      showError ( \" Sorry, there  are no images matching your search query. Please try again!\");\n      return;\n    }\n    clearGallery();\n\n    renderImages(data.hits);\n\n    const container = new SimpleLightbox(\".img-container a\");\n    container.refresh();\n\n\n  })\n  .catch(error =>{\n    hideLoading();\n    showError(\"Failed to fetch images. Please try again later!\")\n  })\n})\n\n"],"names":["searchImages","query","BASE_URL","params","url","res","renderImages","images","gallery","image","hideLoading","showError","message","iziToast","formEl","e","data","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAM,CACjC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAG,QACH,WAAY,QACZ,YAAa,aACb,WAAY,MAGhB,CAAG,EAEGC,EAAK,GAAGF,CAAQ,IAAIC,CAAM,GAI9B,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAK,CAC1B,GAAG,CAACA,EAAI,GACN,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAI,MACZ,CAEH,CACA,CChBO,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAAU,SAAS,cAAc,gBAAgB,EACvDA,EAAQ,UAAYD,EAAO,IAAIE,GACjC,YAAYA,EAAM,aAAa;AAAA,YACnBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,cAEpCA,EAAM,KAAK;AAAA,cACXA,EAAM,KAAK;AAAA,iBACRA,EAAM,QAAQ;AAAA,kBACbA,EAAM,SAAS;AAAA;AAAA,KAGjC,EAAI,KAAK,EAAE,CACX,CAaO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACpD,CAEO,SAASC,EAAUC,EAAQ,CAChCC,EAAS,MAAM,CACb,MAAM,QACN,QAAAD,CACJ,CAAG,CACH,CCpCA,MAAME,EAAS,SAAS,cAAc,OAAO,EAE7CA,EAAO,iBAAiB,SAAUC,GAAI,CAKpC,GAJAA,EAAE,eAAc,EAIZ,CAFUA,EAAE,OAAO,SAAS,MAAM,MAAM,OAEjC,CACTJ,EAAU,8BAA8B,EACxC,MACD,CAIDX,EAAkB,EACjB,KAAKgB,GAAO,CAGX,GAFAN,IAEGM,EAAK,KAAK,SAAW,EAAE,CACxBL,EAAY,4EAA4E,EACxF,MACD,CACD,eAEAL,EAAaU,EAAK,IAAI,EAEJ,IAAIC,EAAe,kBAAkB,EAC7C,QAAO,CAGrB,CAAG,EACA,MAAMC,GAAQ,CACbR,IACAC,EAAU,iDAAiD,CAC/D,CAAG,CACH,CAAC"}