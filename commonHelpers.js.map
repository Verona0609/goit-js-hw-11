{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImg(query){\n  const BASE_URL = `https://pixabay.com/api/`;\n  const params = new URLSearchParams({\n    key: `44189121-1bd84ab9c2376b17257837ab7`,\n    q: `query`,\n    image_type: `photo`,\n    orientation: `horizontal`,\n    safesearch: `true`\n\n\n  })\n\nconst url= `${BASE_URL}?${params}`;\n  if(!url.ok){\n    throw new Error(`Failed to fetch images`)\n  }\n  return fetch(url).then(res=> res.json());\n}\n\n\n\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nexport function searchImages(images){\n  const gallery = document.querySelector(\".img-container\");\n  gallery.innerHTML = images.map(image =>\n`<a href=\"${image.largeImageUrl}\"  class=\"gallery-item\" >\n<img src=\"${image.webformatUrl}\" alt=\"${image.tags}\" />\n<div class=\"info\">¨\n  <p>Likes: ${image.likes}</p>\n  <p>Views: ${image.views}</p>\n  <p>Comments: ${image.comments}</p>\n  <p>Downloads: ${image.downloads}</p>\n</div>\n</a>`\n  ).join(``);\n}\n\nexport function showLoading(){\n  document.querySelector(\".loading\").style.display = \"block\"\n}\n\nexport function hideLoading(){\n  document.querySelector(\".loading\").style.display = \"none\";\n}\n\nexport function showError(message){\n  iziToast.error({\n    title:\"Error\",\n    message,\n  })\n}\n\n","import {searchImg} from \"./js/pixabay-api.js\";\nimport {searchImages, showLoading, hideLoading, showError} from \"./js/render-functions.js\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst formEl = document.querySelector(\".form\")\nconst apiKey = `44189121-1bd84ab9c2376b17257837ab7`\n\n\nformEl.addEventListener(`submit`,  e =>{\n  e.preventDefault();\n\n  const query = e.target.elements.query.value.trim();\n\n  if(!query){\n    showError(\"Please enter a search query!\")\n    return;\n  }\n\n  showLoading();\n\ntry{\n  const data = searchImg(query, apiKey)\n  hideLoading();\n\n  if (data.hits.lenght===0){\n    showError(`Sorry, there are no images matching your search query. Please try again!`)\n    return;\n  }\n  searchImages(data.hits);\n\n  const box= new SimpleLightbox(\".img-container a\")\n  box.refresh();\n\n}catch(error){\n  hideLoading();\n  showError(\"Failed to fetch images. Please try again later!\")\n}\n\n\n\n\n\n\n})\n\n"],"names":["searchImg","query","BASE_URL","params","url","res","searchImages","images","gallery","image","showLoading","hideLoading","showError","message","iziToast","formEl","apiKey","e","data","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAUC,EAAM,CAC9B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAG,QACH,WAAY,QACZ,YAAa,aACb,WAAY,MAGhB,CAAG,EAEGC,EAAK,GAAGF,CAAQ,IAAIC,CAAM,GAC9B,GAAG,CAACC,EAAI,GACN,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAO,MAAMA,CAAG,EAAE,KAAKC,GAAMA,EAAI,KAAI,CAAE,CACzC,CCVO,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAAU,SAAS,cAAc,gBAAgB,EACvDA,EAAQ,UAAYD,EAAO,IAAIE,GACjC,YAAYA,EAAM,aAAa;AAAA,YACnBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,cAEpCA,EAAM,KAAK;AAAA,cACXA,EAAM,KAAK;AAAA,iBACRA,EAAM,QAAQ;AAAA,kBACbA,EAAM,SAAS;AAAA;AAAA,KAGjC,EAAI,KAAK,EAAE,CACX,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,OACrD,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,MACrD,CAEO,SAASC,EAAUC,EAAQ,CAChCC,EAAS,MAAM,CACb,MAAM,QACN,QAAAD,CACJ,CAAG,CACH,CC7BA,MAAME,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAS,qCAGfD,EAAO,iBAAiB,SAAWE,GAAI,CACrCA,EAAE,eAAc,EAEhB,MAAMhB,EAAQgB,EAAE,OAAO,SAAS,MAAM,MAAM,OAE5C,GAAG,CAAChB,EAAM,CACRW,EAAU,8BAA8B,EACxC,MACD,CAEDF,IAEF,GAAG,CACD,MAAMQ,EAAOlB,EAAUC,EAAOe,CAAM,EAGpC,GAFAL,IAEIO,EAAK,KAAK,SAAS,EAAE,CACvBN,EAAU,0EAA0E,EACpF,MACD,CACDN,EAAaY,EAAK,IAAI,EAEX,IAAIC,EAAe,kBAAkB,EAC5C,QAAO,CAEb,MAAa,CACXR,IACAC,EAAU,iDAAiD,CAC7D,CAOA,CAAC"}